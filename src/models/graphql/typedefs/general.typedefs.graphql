#---------------------------------------------
# Data Types
#---------------------------------------------
type Customer {
    id          : ID!
    first_name  : String!
    last_name   : String!
    company     : String!
    age         : Int!
    emails      : [Email!]!
    type        : CustomerType!
    orders      : [Order]
}
#---------------------------------------------
type Email {
    email : String
}
#---------------------------------------------
type Order {
    product: String
    price  : Int
}
#---------------------------------------------
# Composite Metadata Types
#---------------------------------------------
type CustomerPaginated {
    customers   : [Customer!]!
    metadata    : PaginatedMetadata!
}
#---------------------------------------------
type PaginatedMetadata {
    totalRecords: Int!
}

#---------------------------------------------
# Enums
#---------------------------------------------
enum CustomerType {
    BASIC
    PREMIUM
}

#---------------------------------------------
# Queries (Data)
#---------------------------------------------
type Query {
    # Data
    customers(limit: Int, offset: Int): [Customer!]!
    getCustomers(limit: Int, offset: Int): CustomerPaginated!
    getCustomer(id: ID): Customer
}

#---------------------------------------------
# Mutation Input Types
#---------------------------------------------
input CustomerInput {
    id          : ID,
    first_name  : String!
    last_name   : String!
    company     : String!
    age         : Int!
    type        : CustomerType!
    emails      : [EmailInput!]!
    orders      : [OrderInput]
}
#---------------------------------------------
input EmailInput {
    email       : String!
}
#---------------------------------------------
input OrderInput {
    product     : String!
    price       : Int!
}
#---------------------------------------------
# Mutations
#---------------------------------------------
type Mutation {
    createCustomer(input: CustomerInput) : Customer
    updateCustomer(input: CustomerInput) : Customer
    removeCustomer(input: ID!) : String
}
