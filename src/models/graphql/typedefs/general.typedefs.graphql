#---------------------------------------------
# Data Types
#---------------------------------------------
type Customer {
    id          : ID!
    first_name  : String!
    last_name   : String!
    company     : String!
    age         : Int!
    type        : CustomerType!
    orders      : [Order]
}
#---------------------------------------------
type Email {
    email : String
}
#---------------------------------------------
type Order {
    product: String
    price  : Int
}
#---------------------------------------------
# Enums
#---------------------------------------------
enum CustomerType {
    BASIC
    PREMIUM
}

#---------------------------------------------
# Metadata Types
#---------------------------------------------
type ValidationDescriptor {
    field       : String
    type        : String
    required    : Boolean!
    max         : Int
    min         : Int
    regex       : String
}

#---------------------------------------------
# Queries (Data)
#---------------------------------------------
type Query {
    # Data
    customers(limit: Int): [Customer!]!
    getCustomer(id: ID): Customer

    # Validations Metadata
    getCustomerValidations : [ValidationDescriptor!]!
}

#---------------------------------------------
# Mutation Input Types
#---------------------------------------------
input CustomerInput {
    id          : ID,
    first_name  : String!
    last_name   : String!
    company     : String!
    age         : Int!
    type        : CustomerType!
    email       : String!
    orders      : [OrderInput]
}
#---------------------------------------------
input EmailInput {
    email       : String!
}
#---------------------------------------------
input OrderInput {
    product     : String!
    price       : Int!
}
#---------------------------------------------
# Mutations
#---------------------------------------------
type Mutation {
    createCustomer(input: CustomerInput) : Customer
    updateCustomer(input: CustomerInput) : Customer
    removeCustomer(input: ID!) : String
}
