//--------------------------------------------------------------------------------------------------
// Imports Section: (Node Libraries)
//--------------------------------------------------------------------------------------------------
import { connect } from 'mongoose';


//----------------------------------------------------------------------------------------------
// Class Section
//----------------------------------------------------------------------------------------------
export class Database
{
    //------------------------------------------------------------------------------------------
    // Static Methods Section
    //------------------------------------------------------------------------------------------
    public static getInstance(): Database
    {
        if (Database._instance == null)
        {
            Database._instance = new Database();
        }
        return Database._instance;
    }

    //------------------------------------------------------------------------------------------
    // Static Fields Section
    //------------------------------------------------------------------------------------------
    private static _instance: Database;


    //------------------------------------------------------------------------------------------
    // Constructor Method Section
    //------------------------------------------------------------------------------------------
    private constructor()
    {
        // console.log('Database at ' + process.env.MONGODB_URI);
    }


    //------------------------------------------------------------------------------------------
    // Public Methods Section
    //------------------------------------------------------------------------------------------
    public connect()
    {
        connect('mongodb://localhost/customersDB', {
            useNewUrlParser: true
        })
        .then(db => console.log('DB is connected'))
        .catch(error => console.error(error));
    }
}
